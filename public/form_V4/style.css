/*
    form_V2/style.css
    ------------------
    Styles pour la version V2 du formulaire. Ce fichier contient:
    - variables de thème
    - styles pour le formulaire mobile/desktop
    - styles pour la section "manivelle" (batterie)
    - styles pour les messages flash
*/

/* ==================== VARIABLES & RESETS (Existants) ==================== */
* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --primary-color: #4f46e5;
    --primary-600: #6366f1;
    --text-color: #0f172a;
    --muted: #6b7280;
    --panel-bg: rgba(255,255,255,0.95);
    --border: #e6e9f2;
    --radius: 12px;
}

body {
    font-family: Inter, ui-sans-serif, system-ui, sans-serif;
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); /* Fond sombre style "Hacker" */
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 30px;
    overflow: hidden; /* Important pour que le formulaire ne sorte pas */
}

/* ==================== FORMULAIRE ==================== */
form {
    width: 100%;
    max-width: 460px;
    background: var(--panel-bg);
    padding: 30px 28px;
    border-radius: var(--radius);
    box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    border: 1px solid var(--border);
    position: absolute; /* Nécessaire pour le mouvement */
    /* Transition gérée par JS */
}

h2 { font-size: 22px; font-weight: 700; margin-bottom: 5px; }
.form-desc { color: var(--muted); font-size: 13px; margin-bottom: 15px; }

/* ==================== MANIVELLE & BATTERIE ==================== */
.battery-shell {
    width: 100%;
    height: 25px;
    border: 2px solid #333;
    border-radius: 6px;
    background: #eee;
    margin-top: 5px;
    overflow: hidden;
    position: relative;
}

.battery-level {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg, #ef4444, #eab308, #22c55e);
    transition: width 0.2s linear, background 0.2s;
}

.crank-btn {
    width: 100%;
    margin-top: 10px;
    padding: 12px;
    background-color: #f97316; /* Orange */
    color: white;
    font-weight: bold;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px #c2410c;
    transition: transform 0.1s;
}
.crank-btn:active {
    box-shadow: 0 1px #c2410c;
    transform: translateY(3px);
}

/* ==================== EFFETS DE COUPURE ==================== */
/* C'est la classe qui rend le textarea inutilisable */
.power-outage {
    opacity: 0.3;
    pointer-events: none;
    filter: blur(4px);
    background-color: #ddd !important;
}

/* ==================== BOUTONS CLASSIQUES ==================== */
.stop-btn {
    width: 100%;
    padding: 10px;
    background: #ef4444;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    margin-bottom: 10px;
}

textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-family: inherit;
    resize: none;
}

button[type="submit"] {
    width: 100%;
    padding: 12px;
    margin-top: 15px;
    background: var(--primary-600);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
}
button[type="submit"]:disabled {
    background: #ccc;
    cursor: not-allowed;
}

/* Flash message */
.flash {
    position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
    background: #10b981; color: white; padding: 10px 20px; border-radius: 8px;
    display: none; z-index: 1000;
}
.flash[style*="block"] { display: block !important; }